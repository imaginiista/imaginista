<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dossiê Digital - Candidato</title>
    <meta name="robots" content="noindex, nofollow">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --dark-navy: #001529;
            --royal-blue: #002a52;
            --gold: #d4af37;
            --gold-light: #f3e5ab;
            --glass-bg: rgba(255, 255, 255, 0.96);
            --shadow-hdr: 0 20px 40px rgba(0,0,0,0.5);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Lato', sans-serif; 
            background-color: #050505;
            color: #333; min-height: 100vh; padding-bottom: 40px;
            overflow-x: hidden; position: relative;
        }

        /* CANVAS FUNDO */
        #constellation-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; pointer-events: none;
            background: radial-gradient(circle at center, #002a52 0%, #000000 100%);
        }

        /* POPUP SENHA */
        #password-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 5, 10, 0.98); z-index: 9999; 
            display: flex; justify-content: center; align-items: center;
            flex-direction: column; transition: opacity 0.8s ease;
        }
        .auth-box {
            text-align: center; border: 1px solid var(--gold); padding: 50px;
            border-radius: 10px; background: rgba(0,0,0,0.8);
            box-shadow: 0 0 50px rgba(212, 175, 55, 0.3); animation: fadeInUp 0.8s ease;
        }
        .auth-input {
            padding: 15px 20px; font-size: 1.2rem; border-radius: 5px; border: 1px solid var(--gold);
            background: rgba(255,255,255,0.05); color: var(--gold); text-align: center; outline: none;
            margin-top: 20px; width: 280px; letter-spacing: 2px;
        }
        .auth-btn {
            display: block; margin: 25px auto 0; padding: 12px 40px;
            background: linear-gradient(45deg, var(--gold), #bfa15f); color: #000; font-weight: bold;
            border: none; border-radius: 2px; cursor: pointer; transition: transform 0.2s;
            text-transform: uppercase; letter-spacing: 2px;
        }
        .auth-btn:hover { transform: scale(1.05); box-shadow: 0 0 20px var(--gold); }

        /* MAIN CONTENT */
        #main-content { filter: blur(20px); opacity: 0; transition: all 1s ease; }
        .container { max-width: 1100px; margin: 0 auto; padding: 30px 20px; }

        /* HEADER */
        header { text-align: center; margin-bottom: 40px; position: relative; z-index: 2; }
        .header-logos img { height: 100px; margin: 0 15px; filter: drop-shadow(0 0 15px rgba(212, 175, 55, 0.2)); transition: transform 0.4s; }
        .header-logos img:hover { transform: scale(1.1); }
        h1 { font-family: 'Cinzel', serif; color: var(--gold); font-size: 2.5rem; text-shadow: 0 5px 15px rgba(0,0,0,0.8); margin: 15px 0 5px;}
        .sub-header { color: #aaa; letter-spacing: 3px; text-transform: uppercase; font-size: 0.85rem; }

        /* HERO CARD */
        .hero-card {
            background: var(--glass-bg); border-radius: 12px; display: flex; 
            box-shadow: var(--shadow-hdr); margin-bottom: 40px; 
            border: 1px solid rgba(255,255,255,0.2); backdrop-filter: blur(10px);
            position: relative; overflow: hidden;
        }
        .hero-card::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px;
            background: linear-gradient(90deg, var(--royal-blue), var(--gold), var(--royal-blue));
        }

        .hero-photo-area {
            flex: 0 0 260px; background: #e0e0e0; display: flex; justify-content: center; align-items: center;
            position: relative; cursor: pointer; overflow: hidden;
        }
        .hero-photo { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
        .hero-photo-area:hover .hero-photo { transform: scale(1.1); }
        .zoom-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.3); opacity: 0; transition: opacity 0.3s;
            display: flex; justify-content: center; align-items: center;
        }
        .hero-photo-area:hover .zoom-overlay { opacity: 1; }
        .zoom-overlay i { color: var(--gold); font-size: 2.5rem; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }

        .hero-info { flex: 1; padding: 30px; position: relative; display: flex; flex-direction: column; }
        
        /* HEADER DO CARD (LAYOUT CORRIGIDO FLEXBOX) */
        .hero-header-row { 
            display: flex; justify-content: space-between; align-items: flex-start; 
            margin-bottom: 25px; border-bottom: 1px solid rgba(0,0,0,0.1); padding-bottom: 15px; 
            gap: 20px; /* Espaço entre nome e botão */
        }
        .hero-info h2 { 
            color: var(--royal-blue); font-family: 'Cinzel', serif; font-size: 1.8rem; margin: 0; line-height: 1.2; 
            flex: 1; /* Ocupa o espaço disponível */
        }
        
        /* STATUS BADGE (NO FLOW, NÃO MAIS ABSOLUTO) */
        #status-badge {
            background: var(--gold); color: #000; padding: 10px 18px; border-radius: 6px; 
            font-weight: 800; font-size: 0.75rem; letter-spacing: 1px; text-transform: uppercase;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15); border: 1px solid #bfa15f;
            white-space: nowrap; align-self: flex-start; /* Alinha no topo */
            min-width: fit-content;
        }

        /* DADOS GRID */
        .data-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .data-item strong { display: block; color: #777; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 2px; }
        .data-item span { font-weight: 700; color: #222; font-size: 0.95rem; }
        .full-width { grid-column: span 3; border-top: 1px solid #eee; padding-top: 10px; }
        
        .initiation-date { 
            grid-column: span 3; background: rgba(212, 175, 55, 0.1); 
            padding: 12px; border-radius: 6px; border-left: 4px solid var(--gold);
            display: flex; align-items: center; gap: 15px; margin-top: 5px;
        }
        .initiation-date strong { margin-bottom: 0; color: var(--royal-blue); font-size: 0.8rem;}
        .initiation-date span { color: var(--royal-blue); font-size: 1rem; font-weight: bold; }

        /* TIMELINE */
        .timeline-box { 
            background: white; padding: 40px 20px; border-radius: 12px; 
            box-shadow: var(--shadow-hdr); margin-bottom: 40px; overflow-x: auto; 
            border-bottom: 4px solid var(--gold);
        }
        .timeline-header { text-align: center; font-family: 'Cinzel', serif; color: var(--royal-blue); font-size: 1.4rem; margin-bottom: 40px; }
        .progress-steps { display: flex; justify-content: space-between; position: relative; min-width: 800px; padding: 0 20px;}
        .progress-line-bg { position: absolute; top: 18px; left: 45px; right: 45px; height: 6px; background: #e0e0e0; z-index: 0; border-radius: 10px; }
        .progress-line-fill { 
            position: absolute; top: 18px; left: 45px; height: 6px; 
            background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);
            background-color: var(--gold); background-size: 1rem 1rem;
            animation: progress-stripes 1s linear infinite;
            z-index: 0; transition: width 1s ease; width: 0%; border-radius: 10px;
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
        }
        .p-step { position: relative; z-index: 1; text-align: center; flex: 1; }
        .p-circle {
            width: 42px; height: 42px; background: #fff; border: 3px solid #ddd; border-radius: 50%;
            margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; 
            font-weight: bold; color: #ccc; transition: all 0.4s;
        }
        .p-label { font-size: 0.75rem; color: #999; font-weight: 700; margin-top: 5px; text-transform: uppercase;}
        .p-step.completed .p-circle { background: var(--royal-blue); border-color: var(--royal-blue); color: white; }
        .p-step.completed .p-label { color: var(--royal-blue); }
        .p-step.active .p-circle { 
            background: var(--gold); border-color: var(--gold); color: white; 
            transform: scale(1.3); box-shadow: 0 0 20px rgba(212, 175, 55, 0.6); 
        }
        .p-step.active .p-label { color: #d4af37; font-weight: 800; }

        /* VISUALIZADOR PDF (NOVO) */
        .pdf-viewer-section {
            background: #fff; border-radius: 12px; overflow: hidden;
            box-shadow: var(--shadow-hdr); margin-bottom: 40px; border: 1px solid #ddd;
        }
        .pdf-toolbar {
            background: #f8f9fa; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee;
        }
        .pdf-title { font-weight: bold; color: var(--royal-blue); display: flex; align-items: center; gap: 10px; font-family: 'Cinzel', serif; }
        iframe { width: 100%; height: 600px; border: none; background: #525659; }

        /* DOCS GRID */
        .section-title { 
            color: var(--gold); margin-bottom: 20px; font-family: 'Cinzel', serif; font-size: 1.3rem;
            text-shadow: 0 2px 5px rgba(0,0,0,0.8); display: flex; align-items: center; gap: 10px;
        }
        .section-title::before { content: ''; display: block; width: 4px; height: 25px; background: var(--gold); }
        .docs-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 20px; }
        .doc-card {
            background: white; padding: 20px; border-radius: 8px; text-align: center;
            transition: all 0.3s; border-bottom: 3px solid #eee; position: relative; top: 0;
        }
        .doc-card:hover { top: -5px; border-bottom-color: var(--gold); box-shadow: 0 10px 20px rgba(0,0,0,0.3); }
        .doc-icon { font-size: 2rem; color: #555; margin-bottom: 10px; }
        .doc-name { font-weight: bold; font-size: 0.85rem; margin-bottom: 15px; color: #333; min-height: 32px; display: flex; align-items: center; justify-content: center; }
        .btn-mini { 
            padding: 6px 12px; border-radius: 4px; font-size: 0.7rem; text-decoration: none; font-weight: bold; 
            display: inline-block; margin: 0 2px; transition: background 0.2s;
        }
        .btn-view { background: #e3f2fd; color: #1565c0; border: 1px solid #bbdefb; }
        .btn-down { background: #f1f8e9; color: #2e7d32; border: 1px solid #c8e6c9; }
        .btn-view:hover { background: #1565c0; color: white; }
        .btn-down:hover { background: #2e7d32; color: white; }

        /* FOOTER */
        footer { margin-top: 80px; text-align: center; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 40px; }
        .footer-rights { color: rgba(255,255,255,0.4); font-size: 0.8rem; letter-spacing: 1px; margin-bottom: 20px; }
        .dev-container { 
            display: inline-flex; flex-direction: column; align-items: center; gap: 8px; 
            cursor: pointer; transition: transform 0.2s; position: relative;
        }
        .dev-container:hover { transform: scale(1.05); }
        .dev-text { color: var(--gold); font-size: 0.7rem; text-transform: uppercase; letter-spacing: 2px; opacity: 0.7; }
        .imaginista-logo { height: 60px; filter: drop-shadow(0 0 5px rgba(255,255,255,0.3)); transition: filter 0.3s; }
        .imaginista-logo:hover { filter: drop-shadow(0 0 20px var(--gold)); }

        /* MODAL FOTO */
        #photoModal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 10000;
            display: none; justify-content: center; align-items: center;
            perspective: 1500px; opacity: 0; transition: opacity 0.5s;
        }
        .modal-content {
            position: relative; max-width: 90%;
            transform-style: preserve-3d; transform: rotateX(15deg); transition: transform 0.5s;
        }
        .modal-img { 
            max-width: 500px; width: 100%; border: 8px solid var(--gold); 
            border-radius: 5px; box-shadow: 0 20px 50px rgba(0,0,0,0.8); 
        }
        .btn-close-3d {
            position: absolute; top: -25px; right: -25px;
            width: 45px; height: 45px;
            background: linear-gradient(135deg, #ff4d4d, #cc0000);
            border: 2px solid var(--gold); border-radius: 50%;
            color: white; font-size: 1.2rem; font-weight: bold;
            display: flex; justify-content: center; align-items: center;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            transition: all 0.3s; z-index: 10001;
        }
        .btn-close-3d:hover { transform: scale(1.1) rotate(90deg); }

        @keyframes progress-stripes { from { background-position: 1rem 0; } to { background-position: 0 0; } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        /* RESPONSIVIDADE MOBILE */
        @media (max-width: 768px) {
            .container { padding: 20px 10px; }
            .header-logos img { height: 70px; margin: 0 10px; }
            h1 { font-size: 1.8rem; }

            .hero-card { flex-direction: column; overflow: visible; }
            .hero-photo-area { height: 300px; flex: auto; width: 100%; }
            .hero-info { padding: 20px; }
            
            /* No Mobile, reverte para coluna: Status em cima, Nome embaixo */
            .hero-header-row { flex-direction: column-reverse; align-items: center; text-align: center; gap: 15px; }
            .hero-info h2 { font-size: 1.5rem; text-align: center; margin-bottom: 0; }
            #status-badge { align-self: center; } /* Centraliza badge no mobile */
            
            .data-grid { grid-template-columns: 1fr; gap: 10px; }
            .full-width { grid-column: span 1; }
            .initiation-date { flex-direction: column; text-align: center; grid-column: span 1; }
            
            .progress-steps { padding-bottom: 10px; }
            .docs-grid { grid-template-columns: 1fr 1fr; gap: 15px; }
            iframe { height: 400px; }
        }
        @media (max-width: 480px) {
            .docs-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <canvas id="constellation-bg"></canvas>

    <div id="password-overlay">
        <div class="auth-box">
            <i class="fas fa-compass" style="font-size: 3rem; color: var(--gold); margin-bottom: 20px;"></i>
            <h2 style="color: white; font-family: 'Cinzel'; margin-bottom: 5px;">Portal da Sindicância</h2>
            <p style="color: #bbb; font-size: 0.9rem;">Acesso Exclusivo à Comissão</p>
            <input type="password" id="passInput" class="auth-input" placeholder="SENHA MESTRA">
            <button class="auth-btn" onclick="checkPassword()">Acessar Dossiê</button>
            <p id="error-msg" style="color: #ff6b6b; margin-top: 15px; display: none; font-size: 0.8rem; background: rgba(0,0,0,0.5); padding: 5px;">SENHA INCORRETA</p>
        </div>
    </div>

    <div id="main-content">
        <div class="container">
            <header>
                <div class="header-logos">
                    <img src="../glmerj.png" alt="GLMERJ">
                    <img src="../264.jpg" alt="Loja 264">
                </div>
                <h1>Dossiê do Candidato</h1>
                <div class="sub-header">A∴ R∴ L∴ S∴ Fraternidade Imperial Nº 264</div>
            </header>

            <div class="hero-card">
                <div class="hero-photo-area" onclick="openModal()">
                    <img src="3x4.png" alt="Foto Candidato" class="hero-photo">
                    <div class="zoom-overlay"><i class="fas fa-search-plus"></i></div>
                </div>
                <div class="hero-info">
                    <div class="hero-header-row">
                        <h2>RUAN PABLO DA SILVA DE LIMA SANTOS</h2>
                        <div id="status-badge">...</div>
                    </div>

                    <div class="data-grid">
                        <div class="data-item"><strong>CPF</strong><span>123.456.789-00</span></div>
                        <div class="data-item"><strong>RG</strong><span>12.345.678-9 (IFP)</span></div>
                        <div class="data-item"><strong>Nascimento</strong><span>15/05/1984 (42 anos)</span></div>
                        <div class="data-item"><strong>CNH</strong><span>00123456789</span></div>
                        <div class="data-item"><strong>Categoria</strong><span>AB</span></div>
                        <div class="data-item"><strong>Profissão</strong><span>Advogado</span></div>
                        <div class="data-item full-width"><strong>Filiação (Pai)</strong><span>JOSÉ DA SILVA SANTOS</span></div>
                        <div class="data-item full-width"><strong>Filiação (Mãe)</strong><span>MARIA DE LIMA SANTOS</span></div>
                        <div class="data-item full-width"><strong>Esposa</strong><span>ANA PAULA SOUZA DA SILVA</span></div>
                        
                        <div class="initiation-date">
                            <i class="fas fa-calendar-alt" style="font-size: 1.5rem; color: var(--gold);"></i>
                            <div>
                                <strong>Previsão de Iniciação</strong><br>
                                <span id="init-date-display">Aguardando...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="timeline-box">
                <div class="timeline-header">Status do Processo</div>
                <div class="progress-steps">
                    <div class="progress-line-bg"></div>
                    <div class="progress-line-fill" id="prog-line"></div>
                    <div class="p-step" id="step-1"><div class="p-circle"><i class="fas fa-check"></i></div><div class="p-label">Metais</div></div>
                    <div class="p-step" id="step-2"><div class="p-circle"><i class="fas fa-folder-open"></i></div><div class="p-label">Entrega Docs</div></div>
                    <div class="p-step" id="step-3"><div class="p-circle"><i class="fas fa-search"></i></div><div class="p-label">Verificação</div></div>
                    <div class="p-step" id="step-4"><div class="p-circle"><i class="fas fa-user-tie"></i></div><div class="p-label">Sindicância Cand.</div></div>
                    <div class="p-step" id="step-5"><div class="p-circle"><i class="fas fa-home"></i></div><div class="p-label">Sindicância Fam.</div></div>
                    <div class="p-step" id="step-6"><div class="p-circle"><i class="fas fa-landmark"></i></div><div class="p-label">Aguardando GLMERJ</div></div>
                    <div class="p-step" id="step-7"><div class="p-circle"><i class="fas fa-gavel"></i></div><div class="p-label">Iniciação</div></div>
                </div>
            </div>

            <div class="pdf-viewer-section">
                <div class="pdf-toolbar">
                    <div class="pdf-title">
                        <i class="fas fa-book-reader"></i> Dossiê Unificado (Todos os Documentos)
                    </div>
                    <div>
                        <a href="docs/cnh.pdf" target="_blank" class="btn-mini btn-view">Ver Tela Cheia</a>
                        <a href="docs/cnh.pdf" download class="btn-mini btn-down"><i class="fas fa-download"></i> Baixar</a>
                    </div>
                </div>
                <iframe src="docs/cnh.pdf">
                    <p>Seu navegador não suporta visualização direta. <a href="docs/cnh.pdf">Clique aqui para baixar.</a></p>
                </iframe>
            </div>

            <h3 class="section-title"><i class="fas fa-archive"></i> Arquivos Individuais</h3>
            <div class="docs-grid">
                <div class="doc-card">
                    <div class="doc-icon" style="color: #e67e22;"><i class="fas fa-image"></i></div>
                    <div class="doc-name">Foto 3x4 Digital</div>
                    <a href="3x4.png" target="_blank" class="btn-mini btn-view">Ver</a>
                    <a href="3x4.png" download class="btn-mini btn-down">Baixar</a>
                </div>
                <div class="doc-card">
                    <div class="doc-icon"><i class="fas fa-id-card"></i></div>
                    <div class="doc-name">RG Digitalizado</div>
                    <a href="docs/rg.pdf" target="_blank" class="btn-mini btn-view">Ver</a>
                    <a href="docs/rg.pdf" download class="btn-mini btn-down">Baixar</a>
                </div>
                <div class="doc-card">
                    <div class="doc-icon"><i class="fas fa-id-badge"></i></div>
                    <div class="doc-name">CPF Digital</div>
                    <a href="docs/cpf.pdf" target="_blank" class="btn-mini btn-view">Ver</a>
                    <a href="docs/cpf.pdf" download class="btn-mini btn-down">Baixar</a>
                </div>
                <div class="doc-card">
                    <div class="doc-icon"><i class="fas fa-car"></i></div>
                    <div class="doc-name">CNH Digital</div>
                    <a href="docs/cnh.pdf" target="_blank" class="btn-mini btn-view">Ver</a>
                    <a href="docs/cnh.pdf" download class="btn-mini btn-down">Baixar</a>
                </div>
                <div class="doc-card">
                    <div class="doc-icon"><i class="fas fa-map-marked-alt"></i></div>
                    <div class="doc-name">Comp. Residência</div>
                    <a href="docs/residencia.pdf" target="_blank" class="btn-mini btn-view">Ver</a>
                    <a href="docs/residencia.pdf" download class="btn-mini btn-down">Baixar</a>
                </div>
                <div class="doc-card">
                    <div class="doc-icon"><i class="fas fa-ring"></i></div>
                    <div class="doc-name">Cert. Casamento</div>
                    <a href="docs/casamento.pdf" target="_blank" class="btn-mini btn-view">Ver</a>
                    <a href="docs/casamento.pdf" download class="btn-mini btn-down">Baixar</a>
                </div>
                <div class="doc-card">
                    <div class="doc-icon"><i class="fas fa-balance-scale"></i></div>
                    <div class="doc-name">Nada Consta (Federal)</div>
                    <a href="docs/federal.pdf" target="_blank" class="btn-mini btn-view">Ver</a>
                    <a href="docs/federal.pdf" download class="btn-mini btn-down">Baixar</a>
                </div>
                <div class="doc-card">
                    <div class="doc-icon"><i class="fas fa-balance-scale-right"></i></div>
                    <div class="doc-name">Nada Consta (Estadual)</div>
                    <a href="docs/estadual.pdf" target="_blank" class="btn-mini btn-view">Ver</a>
                    <a href="docs/estadual.pdf" download class="btn-mini btn-down">Baixar</a>
                </div>
                <div class="doc-card">
                    <div class="doc-icon"><i class="fas fa-file-signature"></i></div>
                    <div class="doc-name">Petição Ingresso</div>
                    <a href="docs/peticao.pdf" target="_blank" class="btn-mini btn-view">Ver</a>
                    <a href="docs/peticao.pdf" download class="btn-mini btn-down">Baixar</a>
                </div>
                <div class="doc-card">
                    <div class="doc-icon"><i class="fas fa-list-ol"></i></div>
                    <div class="doc-name">Questionário Preliminar</div>
                    <a href="docs/questionario.pdf" target="_blank" class="btn-mini btn-view">Ver</a>
                    <a href="docs/questionario.pdf" download class="btn-mini btn-down">Baixar</a>
                </div>
                 <div class="doc-card">
                    <div class="doc-icon"><i class="fas fa-female"></i></div>
                    <div class="doc-name">Autorização Esposa</div>
                    <a href="docs/autorizacao.pdf" target="_blank" class="btn-mini btn-view">Ver</a>
                    <a href="docs/autorizacao.pdf" download class="btn-mini btn-down">Baixar</a>
                </div>
            </div>

            <footer>
                <div class="footer-rights">
                    © 2025 A∴ R∴ L∴ S∴ Fraternidade Imperial Nº 264. Todos os direitos reservados.
                </div>
                <div class="dev-container" id="imaginista-btn">
                    <span class="dev-text">Developed by</span>
                    <img src="../logo.png" alt="O Imaginista" class="imaginista-logo" id="logo-img">
                </div>
            </footer>
        </div>
    </div>

    <div id="photoModal">
        <div class="modal-content">
            <div class="btn-close-3d" onclick="closeModal()">
                <i class="fas fa-times"></i>
            </div>
            <img src="3x4.png" class="modal-img">
        </div>
    </div>

    <script>
        const currentStep = 3; 

        function checkPassword() {
            const pass = document.getElementById('passInput').value;
            if(pass.toLowerCase() === "modelo") {
                const overlay = document.getElementById('password-overlay');
                const main = document.getElementById('main-content');
                overlay.style.opacity = '0';
                setTimeout(() => {
                    overlay.style.display = 'none';
                    main.style.opacity = '1';
                    main.style.filter = 'none';
                    initConstellations(); 
                    updateLogic();
                }, 500);
            } else {
                document.getElementById('error-msg').style.display = 'block';
            }
        }
        document.getElementById("passInput").addEventListener("keypress", (e) => { if(e.key === "Enter") checkPassword(); });

        function openModal() {
            const modal = document.getElementById('photoModal');
            modal.style.display = 'flex';
            setTimeout(() => { 
                modal.style.opacity = '1'; 
                modal.querySelector('.modal-content').style.transform = 'rotateX(0deg)';
            }, 50);
        }
        function closeModal() {
            const modal = document.getElementById('photoModal');
            modal.style.opacity = '0';
            modal.querySelector('.modal-content').style.transform = 'rotateX(15deg)';
            setTimeout(() => { modal.style.display = 'none'; }, 500);
        }

        function updateLogic() {
            const stepsData = [
                {id:1, txt:"Metais"}, {id:2, txt:"Entrega Docs"}, {id:3, txt:"Verificando Docs"},
                {id:4, txt:"Sindicância Cand."}, {id:5, txt:"Sindicância Fam."}, {id:6, txt:"Aguardando GLMERJ"}, {id:7, txt:"Iniciação"}
            ];

            const badge = document.getElementById('status-badge');
            badge.innerText = stepsData[currentStep-1].txt;
            
            const dateDisplay = document.getElementById('init-date-display');
            if (currentStep === 7) {
                dateDisplay.innerText = "20/08/2026 (Quinta-feira)";
                dateDisplay.style.color = "#2e7d32"; 
                dateDisplay.style.fontWeight = "800";
            } else {
                dateDisplay.innerText = "Aguardando conclusão do processo...";
                dateDisplay.style.color = "#777";
            }

            const percent = ((currentStep-1) / 6) * 100;
            document.getElementById('prog-line').style.width = percent + "%";

            for(let i=1; i<=7; i++) {
                const el = document.getElementById(`step-${i}`);
                if(i < currentStep) el.className = "p-step completed";
                else if(i === currentStep) el.className = "p-step active";
            }
        }

        function initConstellations() {
            const canvas = document.getElementById('constellation-bg');
            const ctx = canvas.getContext('2d');
            let w, h, stars = [];
            const resize = () => { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; };
            window.addEventListener('resize', resize);
            resize();
            for(let i=0; i<60; i++) stars.push({x:Math.random()*w, y:Math.random()*h, vx:(Math.random()-0.5)*0.5, vy:(Math.random()-0.5)*0.5, radius:Math.random()*1.5});
            function draw() {
                ctx.clearRect(0,0,w,h);
                const grad = ctx.createRadialGradient(w/2, h/2, 0, w/2, h/2, w);
                grad.addColorStop(0, '#001a33'); grad.addColorStop(1, '#000000');
                ctx.fillStyle = grad; ctx.fillRect(0,0,w,h);
                ctx.fillStyle = '#d4af37'; ctx.strokeStyle = 'rgba(212, 175, 55, 0.2)';
                stars.forEach((star, i) => {
                    star.x+=star.vx; star.y+=star.vy;
                    if(star.x<0||star.x>w) star.vx*=-1; if(star.y<0||star.y>h) star.vy*=-1;
                    ctx.beginPath(); ctx.arc(star.x, star.y, star.radius, 0, Math.PI*2); ctx.fill();
                    for(let j=i+1; j<stars.length; j++) {
                        const s2 = stars[j];
                        if(Math.hypot(star.x-s2.x, star.y-s2.y)<150) {
                            ctx.beginPath(); ctx.moveTo(star.x, star.y); ctx.lineTo(s2.x, s2.y); ctx.stroke();
                        }
                    }
                });
                requestAnimationFrame(draw);
            }
            draw();
            setupLogoBurst();
        }

        function setupLogoBurst() {
            const btn = document.getElementById('imaginista-btn');
            btn.addEventListener('click', () => {
                const rect = btn.getBoundingClientRect();
                createBurst(rect.left + rect.width/2, rect.top);
            });
        }
        function createBurst(x, y) {
            for(let i=0; i<30; i++) {
                const p = document.createElement('div');
                p.style.position = 'fixed'; p.style.left = x+'px'; p.style.top = y+'px';
                p.style.width = (Math.random()*4+2)+'px'; p.style.height = p.style.width;
                p.style.background = Math.random()>0.5?'#d4af37':'#005eb8';
                p.style.borderRadius = '50%'; p.style.pointerEvents = 'none'; p.style.zIndex = '9999';
                document.body.appendChild(p);
                const angle = Math.random()*Math.PI*2, velocity = Math.random()*5+2;
                const vx = Math.cos(angle)*velocity, vy = Math.sin(angle)*velocity-5;
                let life = 100;
                function updateP() {
                    life-=2; p.style.left=(parseFloat(p.style.left)+vx)+'px'; p.style.top=(parseFloat(p.style.top)+vy)+'px';
                    p.style.opacity=life/100;
                    if(life>0) requestAnimationFrame(updateP); else p.remove();
                }
                requestAnimationFrame(updateP);
            }
        }
    </script>
</body>
</html>